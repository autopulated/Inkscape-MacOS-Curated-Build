diff -Naur inkscape-0.92.2/configure.ac Inkscape-MacOS-Curated-Build/configure.ac
--- inkscape-0.92.2/configure.ac	2017-08-06 14:44:00.000000000 -0600
+++ Inkscape-MacOS-Curated-Build/configure.ac	2018-12-21 20:57:36.000000000 -0700
@@ -36,8 +36,11 @@
 
 AC_LANG(C++)
 AC_PROG_CXX
+AC_PROG_OBJCXX
+AC_PROG_OBJC
 AC_PROG_CC
 AM_PROG_AS
+
 # Initialize libtool
 LT_PREREQ([2.2])
 LT_INIT
@@ -538,6 +541,31 @@
 AM_CONDITIONAL(WITH_LIBVISIO, test "x$with_libvisio" = "xyes")
 
 dnl ********************************
+dnl Carbon Integration
+dnl ********************************
+
+AC_ARG_ENABLE(carbon,
+       AS_HELP_STRING([--enable-osx-carbon], [enable Carbon Integration]),
+       enable_carbon=$enableval,enable_carbon=no)
+
+with_carbon=no
+if test "x$enable_carbon" = "xyes"; then
+	PKG_CHECK_MODULES(GTKMACINTEGRATION, gtk-mac-integration-gtk2, gtk_mac_integration_gtk2_ok=yes, gtk_mac_integration_gtk2_ok=no)
+	if test "x$gtk_mac_integration_gtk2_ok" = "xyes"; then
+		AC_DEFINE(HAVE_GTKMACINTEGRATION, 1, [Use gtk-mac-integration])
+		AC_SUBST(GTKMACINTEGRATION_LIBS)
+		AC_SUBST(GTKMACINTEGRATION_CFLAGS)
+        	with_carbon=yes
+        	AC_DEFINE(WITH_CARBON_INTEGRATION,1,[Build with OSX Carbon Integration])
+		AM_CONDITIONAL(WITH_CARBON_INTEGRATION, test "$with_carbon" = "yes")
+		LIBS="$LIBS $GTKMACINTEGRATION_LIBS"
+		CPPFLAGS="$CPPFLAGS $GTKMACINTEGRATION_CFLAGS"
+	fi
+fi
+
+
+
+dnl ********************************
 dnl Check for libcdr for extension
 dnl ********************************
 
@@ -861,6 +889,8 @@
 INKSCAPE_LIBS="$GTK_LIBS $INKSCAPE_LIBS"
 INKSCAPE_CXX_DEPS_LIBS="$GTKMM_LIBS $INKSCAPE_CXX_DEPS_LIBS"
 
+CPPFLAGS="$CPPFLAGS $GTKMM_CFLAGS"
+
 dnl Configure x11 library if Gtk+ uses it as a backend.
 dnl Note that this is only here because we directly use X11 functionality.  We
 dnl wouldn't need this check if we were only using X as the Gtk+ backend.
diff -Naur inkscape-0.92.2/share/keys/default.xml Inkscape-MacOS-Curated-Build/share/keys/default.xml
--- inkscape-0.92.2/share/keys/default.xml	2017-08-06 14:44:00.000000000 -0600
+++ Inkscape-MacOS-Curated-Build/share/keys/default.xml	2018-12-21 20:57:49.000000000 -0700
@@ -41,42 +41,42 @@
 
 <!-- File -->
 
-  <bind key="n" modifiers="Ctrl" action="FileNew" display="true" />
-  <bind key="N" modifiers="Ctrl" action="FileNew" />
+  <bind key="n" modifiers="Cmd" action="FileNew" display="true" />
+  <bind key="N" modifiers="Cmd" action="FileNew" />
 
-  <bind key="n" modifiers="Ctrl,Alt" action="FileTemplates" display="true" />
-  <bind key="N" modifiers="Ctrl,Alt" action="FileTemplates" />
+  <bind key="n" modifiers="Cmd,Alt" action="FileTemplates" display="true" />
+  <bind key="N" modifiers="Cmd,Alt" action="FileTemplates" />
 
-  <bind key="o" modifiers="Ctrl" action="FileOpen" display="true" />
-  <bind key="O" modifiers="Ctrl" action="FileOpen" />
+  <bind key="o" modifiers="Cmd" action="FileOpen" display="true" />
+  <bind key="O" modifiers="Cmd" action="FileOpen" />
 
   <bind action="FileRevert" />
 
-  <bind key="s" modifiers="Ctrl" action="FileSave" display="true" />
-  <bind key="S" modifiers="Ctrl" action="FileSave" />
+  <bind key="s" modifiers="Cmd" action="FileSave" display="true" />
+  <bind key="S" modifiers="Cmd" action="FileSave" />
 
-  <bind key="s" modifiers="Ctrl,Shift" action="FileSaveAs" display="true" />
-  <bind key="S" modifiers="Ctrl,Shift" action="FileSaveAs" />
+  <bind key="s" modifiers="Cmd,Shift" action="FileSaveAs" display="true" />
+  <bind key="S" modifiers="Cmd,Shift" action="FileSaveAs" />
 
-  <bind key="s" modifiers="Ctrl,Shift,Alt" action="FileSaveACopy" display="true" />
-  <bind key="S" modifiers="Ctrl,Shift,Alt" action="FileSaveACopy" />
+  <bind key="s" modifiers="Cmd,Shift,Alt" action="FileSaveACopy" display="true" />
+  <bind key="S" modifiers="Cmd,Shift,Alt" action="FileSaveACopy" />
 
-  <bind key="p" modifiers="Ctrl" action="FilePrint" display="true" />
-  <bind key="P" modifiers="Ctrl" action="FilePrint" />
+  <bind key="p" modifiers="Cmd" action="FilePrint" display="true" />
+  <bind key="P" modifiers="Cmd" action="FilePrint" />
 
-  <bind key="i" modifiers="Ctrl" action="FileImport" display="true" />
-  <bind key="I" modifiers="Ctrl" action="FileImport" />
+  <bind key="i" modifiers="Cmd" action="FileImport" display="true" />
+  <bind key="I" modifiers="Cmd" action="FileImport" />
 
-  <bind key="e" modifiers="Ctrl,Shift" action="DialogExport" display="true" />
-  <bind key="E" modifiers="Ctrl,Shift" action="DialogExport" />
+  <bind key="e" modifiers="Cmd,Shift" action="DialogExport" display="true" />
+  <bind key="E" modifiers="Cmd,Shift" action="DialogExport" />
 
   <bind action="FileVacuum" />
 
-  <bind key="w" modifiers="Ctrl" action="FileClose" display="true" />
-  <bind key="W" modifiers="Ctrl" action="FileClose" />
+  <bind key="w" modifiers="Cmd" action="FileClose" display="true" />
+  <bind key="W" modifiers="Cmd" action="FileClose" />
 
-  <bind key="q" modifiers="Ctrl" action="FileQuit" display="true" />
-  <bind key="Q" modifiers="Ctrl" action="FileQuit" />
+  <bind key="q" modifiers="Cmd" action="FileQuit" display="true" />
+  <bind key="Q" modifiers="Cmd" action="FileQuit" />
 
 <!-- Tools -->
 
@@ -152,7 +152,7 @@
 
   <bind action="PenPrefs" />
 
-  <bind key="F6" modifiers="Ctrl" action="ToolCalligraphic" display="true" />
+  <bind key="F6" modifiers="Cmd" action="ToolCalligraphic" display="true" />
   <bind key="c" action="ToolCalligraphic" />
   <bind key="C" action="ToolCalligraphic" />
 
@@ -174,13 +174,13 @@
 
   <bind action="TextPrefs" />
 
-  <bind key="F1" modifiers="Ctrl" action="ToolGradient" display="true" />
+  <bind key="F1" modifiers="Cmd" action="ToolGradient" display="true" />
   <bind key="g" action="ToolGradient" />
   <bind key="G" action="ToolGradient" />
 
   <bind action="GradientPrefs" />
 
-  <bind key="F2" modifiers="Ctrl" action="ToolConnector" display="true" />
+  <bind key="F2" modifiers="Cmd" action="ToolConnector" display="true" />
   <bind key="o" action="ToolConnector" />
   <bind key="O" action="ToolConnector" />
 
@@ -200,57 +200,47 @@
 
 <!-- Zoom -->
 
-  <bind key="plus" action="ZoomIn" display="true" />
-  <bind key="plus" modifiers="Shift" action="ZoomIn" />
-  <bind key="equal" action="ZoomIn" />
-  <bind key="equal" modifiers="Shift" action="ZoomIn" />
+  <bind key="plus" modifiers="Cmd" action="ZoomIn" display="true" />
+  <bind key="equal" modifiers="Cmd" action="ZoomIn" />
   <bind key="KP_Add" action="ZoomIn" />
 
-  <bind key="minus" action="ZoomOut" display="true" />
-  <bind key="minus" modifiers="Shift" action="ZoomOut" />
-  <bind key="underscore" action="ZoomOut" />
-  <bind key="underscore" modifiers="Shift" action="ZoomOut" />  
+  <bind key="minus" modifiers="Cmd" action="ZoomOut" display="true" />
+  <bind key="underscore" modifiers="Cmd" action="ZoomOut" />
   <bind key="KP_Subtract" action="ZoomOut" />
 
-  <bind key="1" action="Zoom1:0" display="true" />
-  <bind key="1" modifiers="Shift" action="Zoom1:0" />
+  <bind key="1" modifiers="Cmd" action="Zoom1:0" display="true" />
   <bind key="KP_1" action="Zoom1:0" />
-  <bind key="2" action="Zoom1:2" display="true" />
-  <bind key="2" modifiers="Shift" action="Zoom1:2" />
+  <bind key="2" modifiers="Cmd" action="Zoom1:2" display="true" />
   <bind key="KP_2" action="Zoom1:2" />
-  <bind key="3" action="ZoomSelection" display="true" />
-  <bind key="3" modifiers="Shift" action="ZoomSelection" />
+  <bind key="3" modifiers="Cmd" action="ZoomSelection" display="true" />
   <bind key="KP_3" action="ZoomSelection" />
-  <bind key="4" action="ZoomDrawing" display="true" />
-  <bind key="4" modifiers="Shift" action="ZoomDrawing" />
+  <bind key="4" modifiers="Cmd" action="ZoomDrawing" display="true" />
   <bind key="KP_4" action="ZoomDrawing" />
-  <bind key="5" action="ZoomPage" display="true" />
-  <bind key="5" modifiers="Shift" action="ZoomPage" />
+  <bind key="5" modifiers="Cmd" action="ZoomPage" display="true" />
   <bind key="KP_5" action="ZoomPage" />
   <bind key="KP_Begin" action="ZoomPage" />
-  <bind key="6" action="ZoomPageWidth" display="true" />
-  <bind key="6" modifiers="Shift" action="ZoomPageWidth" />
+  <bind key="6" modifiers="Cmd" action="ZoomPageWidth" display="true" />
   <bind key="KP_6" action="ZoomPageWidth" />
 
-  <bind key="e" modifiers="Ctrl" action="ZoomPageWidth" />
-  <bind key="E" modifiers="Ctrl" action="ZoomPageWidth" />
+  <bind key="e" modifiers="Cmd" action="ZoomPageWidth" />
+  <bind key="E" modifiers="Cmd" action="ZoomPageWidth" />
 
   <bind key="grave" modifiers="Shift" action="ZoomNext" display="true" /> <!-- ` -->
   <bind key="asciitilde" modifiers="Shift" action="ZoomNext" /> <!-- ~ -->
   <bind key="KP_9" action="ZoomNext" />
-  <bind key="grave" action="ZoomPrev" display="true" /> <!-- ` -->
+  <bind key="grave" modifiers="Ctrl" action="ZoomPrev" display="true" /> <!-- ` -->
   <bind key="KP_8" action="ZoomPrev" />
   
 <!-- View -->
 
   <bind key="F11" action="FullScreen" display="true" /> 
   <bind key="F11" action="FocusToggle" modifiers="Shift" display="true" /> 
-  <bind key="F11" action="FullScreenFocus" modifiers="Ctrl" display="true" /> 
+  <bind key="F11" action="FullScreenFocus" modifiers="Cmd" display="true" /> 
 
-  <bind key="Tab" modifiers="Ctrl" action="NextWindow" display="true" />
-  <bind key="ISO_Left_Tab" modifiers="Ctrl" action="NextWindow" />
-  <bind key="Tab" modifiers="Ctrl,Shift" action="PrevWindow" display="true" />
-  <bind key="ISO_Left_Tab" modifiers="Ctrl,Shift" action="PrevWindow" />
+  <bind key="grave" modifiers="Cmd" action="NextWindow" display="true" /> 
+  <bind key="ISO_Left_Tab" modifiers="Cmd" action="NextWindow" />
+  <bind key="Tab" modifiers="Cmd,Shift" action="PrevWindow" display="true" />
+  <bind key="ISO_Left_Tab" modifiers="Cmd,Shift" action="PrevWindow" />
 
   <bind key="numbersign" modifiers="Shift" action="ToggleGrid" /> <!-- # -->
   <bind key="numbersign" action="ToggleGrid" display="true" />
@@ -266,11 +256,11 @@
   <bind action="ToggleToolToolbar" />
   <bind action="ToggleToolbox" />
 
-  <bind key="r" modifiers="Ctrl" action="ToggleRulers" display="true" />
-  <bind key="R" modifiers="Ctrl" action="ToggleRulers" />
+  <bind key="r" modifiers="Cmd" action="ToggleRulers" display="true" />
+  <bind key="R" modifiers="Cmd" action="ToggleRulers" />
 
-  <bind key="b" modifiers="Ctrl" action="ToggleScrollbars" display="true" />
-  <bind key="B" modifiers="Ctrl" action="ToggleScrollbars" />
+  <bind key="b" modifiers="Cmd" action="ToggleScrollbars" display="true" />
+  <bind key="B" modifiers="Cmd" action="ToggleScrollbars" />
 
   <bind key="p" modifiers="Shift,Alt" action="TogglePalette" display="true" />
   <bind key="P" modifiers="Shift,Alt" action="TogglePalette" />
@@ -281,8 +271,8 @@
   <bind action="ViewNewPreview" />
   <bind action="ViewIconPreview" />
 
-  <bind key="KP_5" modifiers="Ctrl" action="ViewModeToggle" display="true" />
-  <bind key="KP_Begin" modifiers="Ctrl" action="ViewModeToggle" />
+  <bind key="KP_5" modifiers="Cmd" action="ViewModeToggle" display="true" />
+  <bind key="KP_Begin" modifiers="Cmd" action="ViewModeToggle" />
 
   <bind action="ViewModeNormal" />
   <bind action="ViewModeNoFilters" />
@@ -295,35 +285,35 @@
 
 <!-- Edit -->
   
-  <bind key="z" modifiers="Ctrl" action="EditUndo" display="true" />
-  <bind key="Z" modifiers="Ctrl" action="EditUndo" />
-  <!--Do not put in Ctrl,Shift+Y, already used-->
-
-  <bind key="z" modifiers="Ctrl,Shift" action="EditRedo" display="true" />
-  <bind key="Z" modifiers="Ctrl,Shift" action="EditRedo" />
-  <bind key="y" modifiers="Ctrl" action="EditRedo" />
-  <bind key="Y" modifiers="Ctrl" action="EditRedo" />
+  <bind key="z" modifiers="Cmd" action="EditUndo" display="true" />
+  <bind key="Z" modifiers="Cmd" action="EditUndo" />
+  <!--Do not put in Cmd,Shift+Y, already used-->
+
+  <bind key="z" modifiers="Cmd,Shift" action="EditRedo" display="true" />
+  <bind key="Z" modifiers="Cmd,Shift" action="EditRedo" />
+  <bind key="y" modifiers="Cmd" action="EditRedo" />
+  <bind key="Y" modifiers="Cmd" action="EditRedo" />
 
-  <bind key="h" modifiers="Ctrl,Shift" action="DialogUndoHistory" display="true" />
-  <bind key="H" modifiers="Ctrl,Shift" action="DialogUndoHistory" />
+  <bind key="h" modifiers="Cmd,Shift" action="DialogUndoHistory" display="true" />
+  <bind key="H" modifiers="Cmd,Shift" action="DialogUndoHistory" />
 
-  <bind key="x" modifiers="Ctrl" action="EditCut" display="true" />
-  <bind key="X" modifiers="Ctrl" action="EditCut" />
+  <bind key="x" modifiers="Cmd" action="EditCut" display="true" />
+  <bind key="X" modifiers="Cmd" action="EditCut" />
   <bind key="Delete" modifiers="Shift" action="EditCut"/>
   
-  <bind key="c" modifiers="Ctrl" action="EditCopy" display="true" />
-  <bind key="C" modifiers="Ctrl" action="EditCopy" />
-  <bind key="Insert" modifiers="Ctrl" action="EditCopy"/>
+  <bind key="c" modifiers="Cmd" action="EditCopy" display="true" />
+  <bind key="C" modifiers="Cmd" action="EditCopy" />
+  <bind key="Insert" modifiers="Cmd" action="EditCopy"/>
 
-  <bind key="v" modifiers="Ctrl" action="EditPaste" display="true" />
-  <bind key="V" modifiers="Ctrl" action="EditPaste" />
+  <bind key="v" modifiers="Cmd" action="EditPaste" display="true" />
+  <bind key="V" modifiers="Cmd" action="EditPaste" />
   <bind key="Insert" modifiers="Shift" action="EditPaste"/>
 
-  <bind key="v" modifiers="Ctrl,Shift" action="EditPasteStyle" display="true" />
-  <bind key="V" modifiers="Ctrl,Shift" action="EditPasteStyle" />
+  <bind key="v" modifiers="Cmd,Shift" action="EditPasteStyle" display="true" />
+  <bind key="V" modifiers="Cmd,Shift" action="EditPasteStyle" />
 
-  <bind key="v" modifiers="Ctrl,Alt" action="EditPasteInPlace" display="true" />
-  <bind key="V" modifiers="Ctrl,Alt" action="EditPasteInPlace" />
+  <bind key="v" modifiers="Cmd,Alt" action="EditPasteInPlace" display="true" />
+  <bind key="V" modifiers="Cmd,Alt" action="EditPasteInPlace" />
 
   <bind action="EditPasteSize" />
   <bind action="EditPasteWidth" />
@@ -336,8 +326,8 @@
   <bind key="KP_Delete" action="EditDelete" />
   <bind key="BackSpace" action="EditDelete" />
 
-  <bind key="d" modifiers="Ctrl" action="EditDuplicate" display="true" />
-  <bind key="D" modifiers="Ctrl" action="EditDuplicate" />
+  <bind key="d" modifiers="Cmd" action="EditDuplicate" display="true" />
+  <bind key="D" modifiers="Cmd" action="EditDuplicate" />
 
   <bind key="d" modifiers="Alt" action="EditClone" display="true" />
   <bind key="D" modifiers="Alt" action="EditClone" />
@@ -352,13 +342,13 @@
 
   <bind action="EditCloneOriginalPathLPE" />
 
-  <bind key="a" modifiers="Ctrl" action="EditSelectAll" display="true" />
-  <bind key="A" modifiers="Ctrl" action="EditSelectAll" />
+  <bind key="a" modifiers="Cmd" action="EditSelectAll" display="true" />
+  <bind key="A" modifiers="Cmd" action="EditSelectAll" />
 
   <bind action="EditClearAll" />
 
-  <bind key="a" modifiers="Ctrl,Alt" action="EditSelectAllInAllLayers" display="true" />
-  <bind key="A" modifiers="Ctrl,Alt" action="EditSelectAllInAllLayers" />
+  <bind key="a" modifiers="Cmd,Alt" action="EditSelectAllInAllLayers" display="true" />
+  <bind key="A" modifiers="Cmd,Alt" action="EditSelectAllInAllLayers" />
 
   <bind action="EditSelectSameFillStroke" />  
   <bind action="EditSelectSameFillColor" />  
@@ -383,16 +373,16 @@
 
   <bind key="7" action="EditNextPathEffectParameter" display="true" />
 
-  <bind key="r" modifiers="Ctrl,Shift" action="FitCanvasToSelectionOrDrawing" display="true" />
-  <bind key="R" modifiers="Ctrl,Shift" action="FitCanvasToSelectionOrDrawing" display="true" />
+  <bind key="r" modifiers="Cmd,Shift" action="FitCanvasToSelectionOrDrawing" display="true" />
+  <bind key="R" modifiers="Cmd,Shift" action="FitCanvasToSelectionOrDrawing" display="true" />
 
   <!-- Objects/selection -->
 
-  <bind key="h" action="ObjectFlipHorizontally" display="true" />
-  <bind key="H" action="ObjectFlipHorizontally" />
+  <bind key="h" modifiers="Alt,Shift" action="ObjectFlipHorizontally" display="true" />
+  <bind key="H" modifiers="Alt,Shift" action="ObjectFlipHorizontally" />
 
-  <bind key="v" action="ObjectFlipVertically" display="true" />
-  <bind key="V" action="ObjectFlipVertically" />
+  <bind key="v" modifiers="Alt,Shift" action="ObjectFlipVertically" display="true" />
+  <bind key="V" modifiers="Alt,Shift" action="ObjectFlipVertically" />
 
   <bind key="Home" action="SelectionToFront" display="true" />
   <bind key="KP_Home" action="SelectionToFront" />
@@ -406,15 +396,15 @@
   <bind key="Page_Down" action="SelectionLower" display="true" />
   <bind key="KP_Page_Down" action="SelectionLower" />
 
-  <bind key="g" modifiers="Ctrl" action="SelectionGroup" display="true" />
-  <bind key="G" modifiers="Ctrl" action="SelectionGroup" />
-  <bind key="u" modifiers="Ctrl,Shift" action="SelectionGroup" />
-  <bind key="U" modifiers="Ctrl,Shift" action="SelectionGroup" />
-
-  <bind key="g" modifiers="Ctrl,Shift" action="SelectionUnGroup" display="true" />
-  <bind key="G" modifiers="Ctrl,Shift" action="SelectionUnGroup" />
-  <bind key="u" modifiers="Ctrl" action="SelectionUnGroup" />
-  <bind key="U" modifiers="Ctrl" action="SelectionUnGroup" />
+  <bind key="g" modifiers="Cmd" action="SelectionGroup" display="true" />
+  <bind key="G" modifiers="Cmd" action="SelectionGroup" />
+  <bind key="u" modifiers="Cmd,Shift" action="SelectionGroup" />
+  <bind key="U" modifiers="Cmd,Shift" action="SelectionGroup" />
+
+  <bind key="g" modifiers="Cmd,Shift" action="SelectionUnGroup" display="true" />
+  <bind key="G" modifiers="Cmd,Shift" action="SelectionUnGroup" />
+  <bind key="u" modifiers="Cmd" action="SelectionUnGroup" />
+  <bind key="U" modifiers="Cmd" action="SelectionUnGroup" />
 
   <bind key="b" modifiers="Alt" action="SelectionCreateBitmap" display="true" />
   <bind key="B" modifiers="Alt" action="SelectionCreateBitmap" />
@@ -439,7 +429,7 @@
   <bind action="ObjectSetClipPath" />
   <bind action="ObjectUnSetClipPath" />
 
-  <!-- FIXME: currently these bypass the verbs, so the verbs are not bound to ctrl+[] as they should be -->
+  <!-- FIXME: currently these bypass the verbs, so the verbs are not bound to Cmd+[] as they should be -->
   <bind action="ObjectRotate90" /> 
   <bind action="ObjectRotate90CCW" /> 
 
@@ -451,46 +441,46 @@
 
 <!-- Path -->
 
-  <bind key="c" modifiers="Ctrl,Shift" action="ObjectToPath" display="true" />
-  <bind key="C" modifiers="Ctrl,Shift" action="ObjectToPath" />
+  <bind key="c" modifiers="Cmd,Shift" action="ObjectToPath" display="true" />
+  <bind key="C" modifiers="Cmd,Shift" action="ObjectToPath" />
 
-  <bind key="c" modifiers="Ctrl,Alt" action="StrokeToPath" display="true" />
-  <bind key="C" modifiers="Ctrl,Alt" action="StrokeToPath" />
+  <bind key="c" modifiers="Cmd,Alt" action="StrokeToPath" display="true" />
+  <bind key="C" modifiers="Cmd,Alt" action="StrokeToPath" />
 
-  <bind key="k" modifiers="Ctrl" action="SelectionCombine" display="true" />
-  <bind key="K" modifiers="Ctrl" action="SelectionCombine" />
+  <bind key="k" modifiers="Cmd" action="SelectionCombine" display="true" />
+  <bind key="K" modifiers="Cmd" action="SelectionCombine" />
 
-  <bind key="k" modifiers="Ctrl,Shift" action="SelectionBreakApart" display="true" />
-  <bind key="K" modifiers="Ctrl,Shift" action="SelectionBreakApart" />
-
-  <bind key="plus" modifiers="Ctrl" action="SelectionUnion" display="true" />
-  <bind key="KP_Add" modifiers="Ctrl" action="SelectionUnion" />
-  <bind key="plus" modifiers="Ctrl,Shift" action="SelectionUnion" />
-
-  <bind key="asterisk" modifiers="Ctrl" action="SelectionIntersect" display="true" />
-  <bind key="KP_Multiply" modifiers="Ctrl" action="SelectionIntersect" />
-  <bind key="asterisk" modifiers="Ctrl,Shift" action="SelectionIntersect" />
-
-  <bind key="minus" modifiers="Ctrl" action="SelectionDiff" display="true" />
-  <bind key="underscore" modifiers="Ctrl" action="SelectionDiff" />
-  <bind key="underscore" modifiers="Ctrl,Shift" action="SelectionDiff" />
-  <bind key="KP_Subtract" modifiers="Ctrl" action="SelectionDiff" />
-  <bind key="minus" modifiers="Ctrl,Shift" action="SelectionDiff" />
-
-  <bind key="asciicircum" modifiers="Ctrl" action="SelectionSymDiff" display="true" /> <!-- ^ -->
-  <bind key="asciicircum" modifiers="Ctrl,Shift" action="SelectionSymDiff" />
-
-  <bind key="slash" modifiers="Ctrl,Alt" action="SelectionCutPath" display="true" />
-  <bind key="slash" modifiers="Ctrl,Alt,Shift" action="SelectionCutPath" />
-
-  <bind key="slash" modifiers="Ctrl" action="SelectionDivide" display="true" />
-  <bind key="KP_Divide" modifiers="Ctrl" action="SelectionDivide" />
-  <bind key="slash" modifiers="Ctrl,Shift" action="SelectionDivide" />
-
-  <bind key="parenright" modifiers="Ctrl" action="SelectionOffset" display="true" />
-  <bind key="parenright" modifiers="Ctrl,Shift" action="SelectionOffset" />
-  <bind key="0" modifiers="Ctrl,Shift" action="SelectionOffset" />
-  <bind key="0" modifiers="Ctrl" action="SelectionOffset" />
+  <bind key="k" modifiers="Cmd,Shift" action="SelectionBreakApart" display="true" />
+  <bind key="K" modifiers="Cmd,Shift" action="SelectionBreakApart" />
+
+  <bind key="plus" modifiers="Cmd" action="SelectionUnion" display="true" />
+  <bind key="KP_Add" modifiers="Cmd" action="SelectionUnion" />
+  <bind key="plus" modifiers="Cmd,Shift" action="SelectionUnion" />
+
+  <bind key="asterisk" modifiers="Cmd" action="SelectionIntersect" display="true" />
+  <bind key="KP_Multiply" modifiers="Cmd" action="SelectionIntersect" />
+  <bind key="asterisk" modifiers="Cmd,Shift" action="SelectionIntersect" />
+
+  <bind key="minus" modifiers="Cmd" action="SelectionDiff" display="true" />
+  <bind key="underscore" modifiers="Cmd" action="SelectionDiff" />
+  <bind key="underscore" modifiers="Cmd,Shift" action="SelectionDiff" />
+  <bind key="KP_Subtract" modifiers="Cmd" action="SelectionDiff" />
+  <bind key="minus" modifiers="Cmd,Shift" action="SelectionDiff" />
+
+  <bind key="asciicircum" modifiers="Cmd" action="SelectionSymDiff" display="true" /> <!-- ^ -->
+  <bind key="asciicircum" modifiers="Cmd,Shift" action="SelectionSymDiff" />
+
+  <bind key="slash" modifiers="Cmd,Alt" action="SelectionCutPath" display="true" />
+  <bind key="slash" modifiers="Cmd,Alt,Shift" action="SelectionCutPath" />
+
+  <bind key="slash" modifiers="Cmd" action="SelectionDivide" display="true" />
+  <bind key="KP_Divide" modifiers="Cmd" action="SelectionDivide" />
+  <bind key="slash" modifiers="Cmd,Shift" action="SelectionDivide" />
+
+  <bind key="parenright" modifiers="Cmd" action="SelectionOffset" display="true" />
+  <bind key="parenright" modifiers="Cmd,Shift" action="SelectionOffset" />
+  <bind key="0" modifiers="Cmd,Shift" action="SelectionOffset" />
+  <bind key="0" modifiers="Cmd" action="SelectionOffset" />
   
   <bind key="parenright" modifiers="Alt" action="SelectionOffsetScreen" display="true" />
   <bind key="0" modifiers="Alt" action="SelectionOffsetScreen" />
@@ -498,10 +488,10 @@
   <bind key="parenright" modifiers="Alt,Shift" action="SelectionOffsetScreen10" display="true" />
   <bind key="0" modifiers="Alt,Shift" action="SelectionOffsetScreen10" />
 
-  <bind key="parenleft" modifiers="Ctrl" action="SelectionInset" display="true" />
-  <bind key="parenleft" modifiers="Ctrl,Shift" action="SelectionInset" />
-  <bind key="9" modifiers="Ctrl,Shift" action="SelectionInset" />
-  <bind key="9" modifiers="Ctrl" action="SelectionInset" />
+  <bind key="parenleft" modifiers="Cmd" action="SelectionInset" display="true" />
+  <bind key="parenleft" modifiers="Cmd,Shift" action="SelectionInset" />
+  <bind key="9" modifiers="Cmd,Shift" action="SelectionInset" />
+  <bind key="9" modifiers="Cmd" action="SelectionInset" />
 
   <bind key="parenleft" modifiers="Alt" action="SelectionInsetScreen" display="true" />
   <bind key="9" modifiers="Alt" action="SelectionInsetScreen" />
@@ -509,14 +499,14 @@
   <bind key="parenleft" modifiers="Alt,Shift" action="SelectionInsetScreen10" display="true" />
   <bind key="9" modifiers="Alt,Shift" action="SelectionInsetScreen10" />
 
-  <bind key="j" modifiers="Ctrl" action="SelectionDynOffset" display="true" />
-  <bind key="J" modifiers="Ctrl" action="SelectionDynOffset" />
+  <bind key="j" modifiers="Cmd" action="SelectionDynOffset" display="true" />
+  <bind key="J" modifiers="Cmd" action="SelectionDynOffset" />
 
-  <bind key="j" modifiers="Ctrl,Alt" action="SelectionLinkedOffset" display="true" />
-  <bind key="J" modifiers="Ctrl,Alt" action="SelectionLinkedOffset" />
+  <bind key="j" modifiers="Cmd,Alt" action="SelectionLinkedOffset" display="true" />
+  <bind key="J" modifiers="Cmd,Alt" action="SelectionLinkedOffset" />
 
-  <bind key="l" modifiers="Ctrl" action="SelectionSimplify" display="true" />
-  <bind key="L" modifiers="Ctrl" action="SelectionSimplify" />
+  <bind key="l" modifiers="Cmd" action="SelectionSimplify" display="true" />
+  <bind key="L" modifiers="Cmd" action="SelectionSimplify" />
 
   <bind action="SelectionReverse" />
 
@@ -534,32 +524,32 @@
   <bind action="ObjectFlowtextToText" />
   <bind action="SelectionTextRemoveKerns" />
 
-  <bind key="k" modifiers="Ctrl,Alt" action="DialogSpellcheck" display="true" />
-  <bind key="K" modifiers="Ctrl,Alt" action="DialogSpellcheck" />
+  <bind key="k" modifiers="Cmd,Alt" action="DialogSpellcheck" display="true" />
+  <bind key="K" modifiers="Cmd,Alt" action="DialogSpellcheck" />
 
 <!-- Layers -->
 
-  <bind key="N" modifiers="Ctrl,Shift" action="LayerNew" display="true" />
-  <bind key="n" modifiers="Ctrl,Shift" action="LayerNew" />
+  <bind key="N" modifiers="Cmd,Shift" action="LayerNew" display="true" />
+  <bind key="n" modifiers="Cmd,Shift" action="LayerNew" />
 
   <bind action="LayerRename" />
-  <bind key="Page_Up" modifiers="Ctrl" action="LayerNext" display="true" />
-  <bind key="KP_Page_Up" modifiers="Ctrl" action="LayerNext" />
-  <bind key="Page_Down" modifiers="Ctrl" action="LayerPrev" display="true" />
-  <bind key="KP_Page_Down" modifiers="Ctrl" action="LayerPrev" />
+  <bind key="Page_Up" modifiers="Cmd" action="LayerNext" display="true" />
+  <bind key="KP_Page_Up" modifiers="Cmd" action="LayerNext" />
+  <bind key="Page_Down" modifiers="Cmd" action="LayerPrev" display="true" />
+  <bind key="KP_Page_Down" modifiers="Cmd" action="LayerPrev" />
   <bind action="LayerDelete" />
 
-  <bind key="Page_Up" modifiers="Ctrl,Shift" action="LayerRaise" display="true" />
-  <bind key="KP_Page_Up" modifiers="Ctrl,Shift" action="LayerRaise" />
+  <bind key="Page_Up" modifiers="Cmd,Shift" action="LayerRaise" display="true" />
+  <bind key="KP_Page_Up" modifiers="Cmd,Shift" action="LayerRaise" />
 
-  <bind key="Page_Down" modifiers="Ctrl,Shift" action="LayerLower" display="true" />
-  <bind key="KP_Page_Down" modifiers="Ctrl,Shift" action="LayerLower" />
+  <bind key="Page_Down" modifiers="Cmd,Shift" action="LayerLower" display="true" />
+  <bind key="KP_Page_Down" modifiers="Cmd,Shift" action="LayerLower" />
 
-  <bind key="Home" modifiers="Ctrl,Shift" action="LayerToTop" display="true" />
-  <bind key="KP_Home" modifiers="Ctrl,Shift" action="LayerToTop" />
+  <bind key="Home" modifiers="Cmd,Shift" action="LayerToTop" display="true" />
+  <bind key="KP_Home" modifiers="Cmd,Shift" action="LayerToTop" />
 
-  <bind key="End" modifiers="Ctrl,Shift" action="LayerToBottom" display="true" />
-  <bind key="KP_End" modifiers="Ctrl,Shift" action="LayerToBottom" />
+  <bind key="End" modifiers="Cmd,Shift" action="LayerToBottom" display="true" />
+  <bind key="KP_End" modifiers="Cmd,Shift" action="LayerToBottom" />
 
   <bind key="Page_Up" modifiers="Shift" action="LayerMoveToNext" display="true" />
   <bind key="KP_Page_Up" modifiers="Shift" action="LayerMoveToNext" />
@@ -569,8 +559,8 @@
 
   <bind action="LayerMoveTo" />  
 
-  <bind key="l" modifiers="Ctrl,Shift" action="DialogLayers" display="true" />
-  <bind key="L" modifiers="Ctrl,Shift" action="DialogLayers" />  
+  <bind key="l" modifiers="Cmd,Shift" action="DialogLayers" display="true" />
+  <bind key="L" modifiers="Cmd,Shift" action="DialogLayers" />  
 
   <bind action="LayerDuplicate" />  
   <bind action="LayerDelete" />  
@@ -588,46 +578,46 @@
 
 <!-- Dialogs -->
 
-  <bind key="x" modifiers="Ctrl,Shift" action="DialogXMLEditor" display="true" />
-  <bind key="X" modifiers="Ctrl,Shift" action="DialogXMLEditor" />
+  <bind key="x" modifiers="Cmd,Shift" action="DialogXMLEditor" display="true" />
+  <bind key="X" modifiers="Cmd,Shift" action="DialogXMLEditor" />
 
-  <bind key="d" modifiers="Ctrl,Shift" action="DialogDocumentProperties" display="true" />
-  <bind key="D" modifiers="Ctrl,Shift" action="DialogDocumentProperties" />
+  <bind key="d" modifiers="Cmd,Shift" action="DialogDocumentProperties" display="true" />
+  <bind key="D" modifiers="Cmd,Shift" action="DialogDocumentProperties" />
 
-  <bind key="a" modifiers="Ctrl,Shift" action="DialogAlignDistribute" display="true" />
-  <bind key="A" modifiers="Ctrl,Shift" action="DialogAlignDistribute" />
+  <bind key="a" modifiers="Cmd,Shift" action="DialogAlignDistribute" display="true" />
+  <bind key="A" modifiers="Cmd,Shift" action="DialogAlignDistribute" />
 
-  <bind key="t" modifiers="Ctrl,Shift" action="DialogText" display="true" />
-  <bind key="T" modifiers="Ctrl,Shift" action="DialogText" />
+  <bind key="t" modifiers="Cmd,Shift" action="DialogText" display="true" />
+  <bind key="T" modifiers="Cmd,Shift" action="DialogText" />
 
-  <bind key="p" modifiers="Ctrl,Shift" action="DialogPreferences" display="true" />
-  <bind key="P" modifiers="Ctrl,Shift" action="DialogPreferences" />
+  <bind key="p" modifiers="Cmd,Shift" action="DialogPreferences" display="true" />
+  <bind key="P" modifiers="Cmd,Shift" action="DialogPreferences" />
 
-  <bind key="f" modifiers="Ctrl,Shift" action="DialogFillStroke" display="true" />
-  <bind key="F" modifiers="Ctrl,Shift" action="DialogFillStroke" />
+  <bind key="f" modifiers="Cmd,Shift" action="DialogFillStroke" display="true" />
+  <bind key="F" modifiers="Cmd,Shift" action="DialogFillStroke" />
 
-  <bind key="f" modifiers="Ctrl" action="DialogFind" display="true" />
-  <bind key="F" modifiers="Ctrl" action="DialogFind" />
+  <bind key="f" modifiers="Cmd" action="DialogFind" display="true" />
+  <bind key="F" modifiers="Cmd" action="DialogFind" />
 
-  <bind key="m" modifiers="Ctrl,Shift" action="DialogTransform" display="true" />
-  <bind key="M" modifiers="Ctrl,Shift" action="DialogTransform" />
+  <bind key="m" modifiers="Cmd,Shift" action="DialogTransform" display="true" />
+  <bind key="M" modifiers="Cmd,Shift" action="DialogTransform" />
 
-  <bind key="o" modifiers="Ctrl,Shift" action="DialogObjectProperties" display="true" />
-  <bind key="O" modifiers="Ctrl,Shift" action="DialogObjectProperties" />
+  <bind key="o" modifiers="Cmd,Shift" action="DialogObjectProperties" display="true" />
+  <bind key="O" modifiers="Cmd,Shift" action="DialogObjectProperties" />
 
   <bind action="DialogObjectAttributes" />
 
-  <bind key="w" modifiers="Ctrl,Shift" action="DialogSwatches" display="true" />
-  <bind key="W" modifiers="Ctrl,Shift" action="DialogSwatches" />
+  <bind key="w" modifiers="Cmd,Shift" action="DialogSwatches" display="true" />
+  <bind key="W" modifiers="Cmd,Shift" action="DialogSwatches" />
 
-  <bind key="y" modifiers="Ctrl,Shift" action="DialogSymbols" display="true" />
-  <bind key="Y" modifiers="Ctrl,Shift" action="DialogSymbols" />
+  <bind key="y" modifiers="Cmd,Shift" action="DialogSymbols" display="true" />
+  <bind key="Y" modifiers="Cmd,Shift" action="DialogSymbols" />
 
-  <bind key="ampersand" modifiers="Ctrl,Shift" action="DialogLivePathEffect" />
-  <bind key="7" modifiers="Ctrl,Shift" action="DialogLivePathEffect" display="true" />
+  <bind key="ampersand" modifiers="Cmd,Shift" action="DialogLivePathEffect" />
+  <bind key="7" modifiers="Cmd,Shift" action="DialogLivePathEffect" display="true" />
 
-  <bind key="ampersand" modifiers="Ctrl" action="PasteLivePathEffect" />
-  <bind key="7" modifiers="Ctrl" action="PasteLivePathEffect" display="true" />
+  <bind key="ampersand" modifiers="Cmd" action="PasteLivePathEffect" />
+  <bind key="7" modifiers="Cmd" action="PasteLivePathEffect" display="true" />
 
   <bind action="RemoveLivePathEffect" />
 
@@ -639,26 +629,26 @@
 
   <bind key="F12" action="DialogsToggle" display="true" />
 
-  <bind key="h" modifiers="Ctrl,Alt" action="AlignHorizontalCenter" display="true" />
-  <bind key="H" modifiers="Ctrl,Alt" action="AlignHorizontalCenter" />
+  <bind key="h" modifiers="Cmd,Alt" action="AlignHorizontalCenter" display="true" />
+  <bind key="H" modifiers="Cmd,Alt" action="AlignHorizontalCenter" />
 
-  <bind key="t" modifiers="Ctrl,Alt" action="AlignVerticalCenter" display="true" />
-  <bind key="T" modifiers="Ctrl,Alt" action="AlignVerticalCenter" />
+  <bind key="t" modifiers="Cmd,Alt" action="AlignVerticalCenter" display="true" />
+  <bind key="T" modifiers="Cmd,Alt" action="AlignVerticalCenter" />
 
-  <bind key="KP_2" modifiers="Ctrl,Alt" action="AlignVerticalBottom" display="true" />
-  <bind key="KP_2" modifiers="Ctrl,Alt" action="AlignVerticalBottom" />
+  <bind key="KP_2" modifiers="Cmd,Alt" action="AlignVerticalBottom" display="true" />
+  <bind key="KP_2" modifiers="Cmd,Alt" action="AlignVerticalBottom" />
 
-  <bind key="KP_4" modifiers="Ctrl,Alt" action="AlignHorizontalLeft" display="true" />
-  <bind key="KP_4" modifiers="Ctrl,Alt" action="AlignHorizontalLeft" />
+  <bind key="KP_4" modifiers="Cmd,Alt" action="AlignHorizontalLeft" display="true" />
+  <bind key="KP_4" modifiers="Cmd,Alt" action="AlignHorizontalLeft" />
 
-  <bind key="KP_5" modifiers="Ctrl,Alt" action="AlignVerticalHorizontalCenter" display="true" />
-  <bind key="KP_5" modifiers="Ctrl,Alt" action="AlignVerticalHorizontalCenter" />
+  <bind key="KP_5" modifiers="Cmd,Alt" action="AlignVerticalHorizontalCenter" display="true" />
+  <bind key="KP_5" modifiers="Cmd,Alt" action="AlignVerticalHorizontalCenter" />
 
-  <bind key="KP_6" modifiers="Ctrl,Alt" action="AlignHorizontalRight" display="true" />
-  <bind key="KP_6" modifiers="Ctrl,Alt" action="AlignHorizontalRight" />
+  <bind key="KP_6" modifiers="Cmd,Alt" action="AlignHorizontalRight" display="true" />
+  <bind key="KP_6" modifiers="Cmd,Alt" action="AlignHorizontalRight" />
 
-  <bind key="KP_8" modifiers="Ctrl,Alt" action="AlignVerticalTop" display="true" />
-  <bind key="KP_8" modifiers="Ctrl,Alt" action="AlignVerticalTop" />
+  <bind key="KP_8" modifiers="Cmd,Alt" action="AlignVerticalTop" display="true" />
+  <bind key="KP_8" modifiers="Cmd,Alt" action="AlignVerticalTop" />
 
 <!-- Help -->
 
@@ -679,15 +669,15 @@
   effect id from the .inx file, for example "org.ekips.filter.addnodes" for the Add
   Nodes effect. -->
 
-  <bind key="g" modifiers="Ctrl,Alt" action="org.inkscape.typography.newglyphlayer" display="true"/>
-  <bind key="G" modifiers="Ctrl,Alt" action="org.inkscape.typography.newglyphlayer"/>
+  <bind key="g" modifiers="Cmd,Alt" action="org.inkscape.typography.newglyphlayer" display="true"/>
+  <bind key="G" modifiers="Cmd,Alt" action="org.inkscape.typography.newglyphlayer"/>
 
 <!-- 
-  <bind key="h" modifiers="Ctrl,Alt" action="org.inkscape.typography.previousglyphlayer" display="true"/>
-  <bind key="H" modifiers="Ctrl,Alt" action="org.inkscape.typography.previousglyphlayer"/>
+  <bind key="h" modifiers="Cmd,Alt" action="org.inkscape.typography.previousglyphlayer" display="true"/>
+  <bind key="H" modifiers="Cmd,Alt" action="org.inkscape.typography.previousglyphlayer"/>
  -->
  
-  <bind key="j" modifiers="Ctrl,Alt" action="org.inkscape.typography.nextglyphlayer" display="true"/>
-  <bind key="J" modifiers="Ctrl,Alt" action="org.inkscape.typography.nextglyphlayer"/>
+  <bind key="j" modifiers="Cmd,Alt" action="org.inkscape.typography.nextglyphlayer" display="true"/>
+  <bind key="J" modifiers="Cmd,Alt" action="org.inkscape.typography.nextglyphlayer"/>
 
 </keys>
diff -Naur inkscape-0.92.2/src/Makefile.am Inkscape-MacOS-Curated-Build/src/Makefile.am
--- inkscape-0.92.2/src/Makefile.am	2017-08-06 14:44:00.000000000 -0600
+++ Inkscape-MacOS-Curated-Build/src/Makefile.am	2018-12-21 20:57:53.000000000 -0700
@@ -146,6 +146,7 @@
 include trace/Makefile_insert
 include 2geom/Makefile_insert
 include libdepixelize/Makefile_insert
+include osx_carbon_integration/Makefile_insert
 
 # Extra files not mentioned as sources to include in the source tarball
 EXTRA_DIST +=	\
diff -Naur inkscape-0.92.2/src/main.cpp Inkscape-MacOS-Curated-Build/src/main.cpp
--- inkscape-0.92.2/src/main.cpp	2017-08-06 14:44:00.000000000 -0600
+++ Inkscape-MacOS-Curated-Build/src/main.cpp	2018-12-21 20:58:00.000000000 -0700
@@ -107,6 +107,10 @@
 #include "registrytool.h"
 #endif // WIN32
 
+#ifdef WITH_CARBON_INTEGRATION
+#include "osx_carbon_integration/osx-integration.h"
+#endif /* WITH_CARBON_INTEGRATION */
+
 #include "extension/init.h"
 // Not ideal, but there doesn't appear to be a nicer system in place for
 // passing command-line parameters to extensions before initialization...
@@ -1043,6 +1047,10 @@
 {
     Gtk::Main main_instance (&argc, const_cast<char ***>(&argv));
 
+#ifdef WITH_CARBON_INTEGRATION
+	init_Mac_OSX_Integration();
+#endif /* WITH_CARBON_INTEGRATION */
+
     GSList *fl = NULL;
     int retVal = sp_common_main( argc, argv, &fl );
     g_return_val_if_fail(retVal == 0, 1);
@@ -1154,6 +1162,10 @@
         sp_file_new_default();
     }
 
+#ifdef WITH_CARBON_INTEGRATION
+	init_Mac_OSX_Integration_complete();
+#endif /* WITH_CARBON_INTEGRATION */
+
     Glib::signal_idle().connect(sigc::ptr_fun(&Inkscape::CmdLineAction::idle));
     main_instance.run();
 
diff -Naur inkscape-0.92.2/src/osx_carbon_integration/Makefile_insert Inkscape-MacOS-Curated-Build/src/osx_carbon_integration/Makefile_insert
--- inkscape-0.92.2/src/osx_carbon_integration/Makefile_insert	1969-12-31 17:00:00.000000000 -0700
+++ Inkscape-MacOS-Curated-Build/src/osx_carbon_integration/Makefile_insert	2018-12-21 20:58:00.000000000 -0700
@@ -0,0 +1,9 @@
+# Makefile.am fragment sourced by src/Makefile.am.
+
+if WITH_CARBON_INTEGRATION
+
+ink_common_sources +=               \
+        osx_carbon_integration/osx-integration.cpp \
+	osx_carbon_integration/osx-glue.m
+endif
+
diff -Naur inkscape-0.92.2/src/osx_carbon_integration/osx-glue.h Inkscape-MacOS-Curated-Build/src/osx_carbon_integration/osx-glue.h
--- inkscape-0.92.2/src/osx_carbon_integration/osx-glue.h	1969-12-31 17:00:00.000000000 -0700
+++ Inkscape-MacOS-Curated-Build/src/osx_carbon_integration/osx-glue.h	2018-12-21 20:58:00.000000000 -0700
@@ -0,0 +1,7 @@
+#ifndef OSX_GLUE_H
+#define OS_GLUE_H
+
+char *convert_mimetype(const char *mimetype);
+
+char *convert_uti(const char *mimetype);
+#endif /* OSX_GLUE_H */
diff -Naur inkscape-0.92.2/src/osx_carbon_integration/osx-glue.m Inkscape-MacOS-Curated-Build/src/osx_carbon_integration/osx-glue.m
--- inkscape-0.92.2/src/osx_carbon_integration/osx-glue.m	1969-12-31 17:00:00.000000000 -0700
+++ Inkscape-MacOS-Curated-Build/src/osx_carbon_integration/osx-glue.m	2018-12-21 20:58:00.000000000 -0700
@@ -0,0 +1,20 @@
+#include <Foundation/Foundation.h>
+#include <CoreServices/CoreServices.h>
+
+char *convert_mimetype(const char *mimetype) {
+	char *ret;
+	NSString *str = [[NSString alloc] initWithUTF8String:mimetype];
+        CFStringRef uti = UTTypeCreatePreferredIdentifierForTag(kUTTagClassMIMEType, (CFStringRef)str, NULL);
+        ret =  [(NSString *)uti UTF8String];
+        [str release];
+        return ret;
+}
+
+
+char *convert_uti(const char *uti) {
+	char *ret = NULL;
+	NSString *str = (NSString *)UTTypeCopyPreferredTagWithClass((CFStringRef)[[NSString alloc] initWithUTF8String:uti], kUTTagClassMIMEType);
+	ret = [str UTF8String];
+	[str release];
+	return ret;
+}
diff -Naur inkscape-0.92.2/src/osx_carbon_integration/osx-integration.cpp Inkscape-MacOS-Curated-Build/src/osx_carbon_integration/osx-integration.cpp
--- inkscape-0.92.2/src/osx_carbon_integration/osx-integration.cpp	1969-12-31 17:00:00.000000000 -0700
+++ Inkscape-MacOS-Curated-Build/src/osx_carbon_integration/osx-integration.cpp	2018-12-21 20:58:00.000000000 -0700
@@ -0,0 +1,96 @@
+/** @file
+ * @brief Integration with Mac OS X Desktop, Launcher and UI in general
+ */
+/* Authors:
+ *   Valerio Aimale <valerio@aimale.com>
+ *
+ * Copyright (C) 2013 authors
+ *
+ * Released under GNU GPL, read the file 'COPYING' for more information
+ */
+#ifdef __APPLE__
+
+#include <gtkmacintegration/gtkosxapplication.h>
+#include "osx-integration.h"
+
+#include <ui/interface.h>
+#include <file.h>
+
+#ifdef __cplusplus
+// extern "C" {
+#endif /* __cplusplus */
+
+static gboolean
+osx_quartz_quit (GtkosxApplication *app, gpointer data);
+static gboolean
+osx_quartz_block_termination (GtkosxApplication *app, gpointer data);
+
+InkscapeOsxIntegration sInkscapeOsxIntegration = {0};
+
+GtkWidget *osx_integration_menuitems[4];
+
+static gboolean
+osx_quartz_block_termination (GtkosxApplication *app, gpointer data)
+{
+	return !sp_ui_close_all();
+}
+
+
+static gboolean
+osx_quartz_quit (GtkosxApplication *app, gpointer data)
+{
+	sp_ui_close_all();
+	g_print("Got here");
+	gtk_main_quit();
+	return FALSE;
+}
+
+static gboolean
+osx_open_file (GtkosxApplication *app, gchar *path ,gpointer data)
+{
+	Glib::ustring ustr = Glib::ustring(path);
+	sp_file_open(ustr, NULL, true, false);
+	return true;
+}
+
+	
+void   init_Mac_OSX_Integration() {
+	sInkscapeOsxIntegration.pGtkOsxApplication  = (GtkosxApplication*) g_object_new(GTKOSX_TYPE_APPLICATION, NULL);
+	//gtkosx_application_set_use_quartz_accelerators(sInkscapeOsxIntegration.pGtkOsxApplication, FALSE);
+}
+
+void   init_Mac_OSX_Integration_complete() {
+	gtkosx_application_ready(sInkscapeOsxIntegration.pGtkOsxApplication);
+	g_signal_connect(sInkscapeOsxIntegration.pGtkOsxApplication, "NSApplicationBlockTermination",
+	                 G_CALLBACK(osx_quartz_block_termination), NULL);
+	g_signal_connect(sInkscapeOsxIntegration.pGtkOsxApplication, "NSApplicationWillTerminate",
+	                 G_CALLBACK(osx_quartz_block_termination), NULL);
+	g_signal_connect(sInkscapeOsxIntegration.pGtkOsxApplication, "NSApplicationOpenFile",
+	                 G_CALLBACK(osx_open_file), NULL);
+	gtk_accel_map_save("/tmp/inkscape.map");
+}
+
+void OSX_set_menubar(SPDesktopWidget *dtw) {
+        gtkosx_application_set_menu_bar(sInkscapeOsxIntegration.pGtkOsxApplication, GTK_MENU_SHELL (dtw->menubar));
+
+        if (dtw->about_item) {
+            GtkWidget *sep = gtk_separator_menu_item_new();
+            gtkosx_application_insert_app_menu_item  (sInkscapeOsxIntegration.pGtkOsxApplication,
+                                                      dtw->about_item,
+                                                      0);
+            g_object_ref(sep);
+            gtkosx_application_insert_app_menu_item  (sInkscapeOsxIntegration.pGtkOsxApplication, sep, 1);
+        }
+        if (dtw->prefs_item) {
+            gtkosx_application_insert_app_menu_item  (sInkscapeOsxIntegration.pGtkOsxApplication,
+                                                      dtw->prefs_item,
+                                                      2);
+        }
+
+}
+
+#ifdef __cplusplus
+//}
+#endif /* __cplusplus */
+
+#endif /* __APPLE__ */
diff -Naur inkscape-0.92.2/src/osx_carbon_integration/osx-integration.h Inkscape-MacOS-Curated-Build/src/osx_carbon_integration/osx-integration.h
--- inkscape-0.92.2/src/osx_carbon_integration/osx-integration.h	1969-12-31 17:00:00.000000000 -0700
+++ Inkscape-MacOS-Curated-Build/src/osx_carbon_integration/osx-integration.h	2018-12-21 20:58:00.000000000 -0700
@@ -0,0 +1,43 @@
+#ifndef __OSX_INTEGRATION_H__
+#define __OSX_INTEGRATION_H__
+
+/*
+ * Main UI stuff
+ *
+ * Authors:
+ *   Valerio Aimale <valerio@aimale.com>
+ *
+ * Copyright (C) 2013 authors
+ *
+ * Released under GNU GPL, read the file 'COPYING' for more information
+ */
+
+#include <gtkmacintegration/gtkosxapplication.h>
+#include "widgets/desktop-widget.h"
+
+#ifdef __cplusplus
+extern "C" {
+#endif /* __cplusplus */
+
+typedef struct _InkscapeOsxIntegration {
+	GtkosxApplication *pGtkOsxApplication;
+	GtkWidget *menubar;
+	GtkWidget *about_item, *prefs_item;
+	SPDesktopWidget *dtw_infocus;
+	
+} InkscapeOsxIntegration;
+
+
+extern InkscapeOsxIntegration sInkscapeOsxIntegration;
+extern GtkWidget *osx_integration_menuitems[4];
+
+void OSX_set_menubar( SPDesktopWidget *menubar);
+void   init_Mac_OSX_Integration();
+void   init_Mac_OSX_Integration_complete();
+
+#ifdef __cplusplus
+}
+#endif /* __cplusplus */
+
+
+#endif /* __OSX_INTEGRATION_H__ */
diff -Naur inkscape-0.92.2/src/shortcuts.cpp Inkscape-MacOS-Curated-Build/src/shortcuts.cpp
--- inkscape-0.92.2/src/shortcuts.cpp	2017-08-06 14:44:00.000000000 -0600
+++ Inkscape-MacOS-Curated-Build/src/shortcuts.cpp	2018-12-21 20:58:00.000000000 -0700
@@ -128,6 +128,8 @@
                  SP_SHORTCUT_SHIFT_MASK : 0 ) |
                ( gdkmodifier & GDK_CONTROL_MASK ?
                  SP_SHORTCUT_CONTROL_MASK : 0 ) |
+               ( gdkmodifier & GDK_META_MASK ?
+                 SP_SHORTCUT_META_MASK : 0 ) |
                ( gdkmodifier & GDK_MOD1_MASK ?
                  SP_SHORTCUT_ALT_MASK : 0 );
 
@@ -148,6 +150,8 @@
         modifiers += "Ctrl,";
     if (shortcut & SP_SHORTCUT_SHIFT_MASK)
         modifiers += "Shift,";
+    if (shortcut & SP_SHORTCUT_META_MASK)
+        modifiers += "Meta,";
     if (shortcut & SP_SHORTCUT_ALT_MASK)
         modifiers += "Alt,";
 
@@ -618,6 +622,8 @@
                     modifiers |= SP_SHORTCUT_CONTROL_MASK;
                 } else if (!strcmp(mod, "Shift")) {
                     modifiers |= SP_SHORTCUT_SHIFT_MASK;
+                } else if (!strcmp(mod, "Cmd")) {
+                    modifiers |= SP_SHORTCUT_META_MASK;
                 } else if (!strcmp(mod, "Alt")) {
                     modifiers |= SP_SHORTCUT_ALT_MASK;
                 } else {
@@ -707,6 +713,7 @@
     return static_cast<GdkModifierType>(
             ((shortcut & SP_SHORTCUT_SHIFT_MASK) ? GDK_SHIFT_MASK : 0) |
             ((shortcut & SP_SHORTCUT_CONTROL_MASK) ? GDK_CONTROL_MASK : 0) |
+            ((shortcut & SP_SHORTCUT_META_MASK) ? GDK_META_MASK : 0) |
             ((shortcut & SP_SHORTCUT_ALT_MASK) ? GDK_MOD1_MASK : 0)
             );
 }
diff -Naur inkscape-0.92.2/src/shortcuts.h Inkscape-MacOS-Curated-Build/src/shortcuts.h
--- inkscape-0.92.2/src/shortcuts.h	2017-08-06 14:44:00.000000000 -0600
+++ Inkscape-MacOS-Curated-Build/src/shortcuts.h	2018-12-21 20:58:00.000000000 -0700
@@ -30,7 +30,8 @@
 #define SP_SHORTCUT_SHIFT_MASK (1 << 24)
 #define SP_SHORTCUT_CONTROL_MASK (1 << 25)
 #define SP_SHORTCUT_ALT_MASK (1 << 26)
-#define SP_SHORTCUT_MODIFIER_MASK (SP_SHORTCUT_SHIFT_MASK|SP_SHORTCUT_CONTROL_MASK|SP_SHORTCUT_ALT_MASK)
+#define SP_SHORTCUT_META_MASK (1 << 27)
+#define SP_SHORTCUT_MODIFIER_MASK (SP_SHORTCUT_SHIFT_MASK|SP_SHORTCUT_CONTROL_MASK|SP_SHORTCUT_ALT_MASK|SP_SHORTCUT_META_MASK)
 
 
 /* Returns true if action was performed */
diff -Naur inkscape-0.92.2/src/widgets/desktop-widget.cpp Inkscape-MacOS-Curated-Build/src/widgets/desktop-widget.cpp
--- inkscape-0.92.2/src/widgets/desktop-widget.cpp	2017-08-06 14:44:00.000000000 -0600
+++ Inkscape-MacOS-Curated-Build/src/widgets/desktop-widget.cpp	2018-12-21 20:58:03.000000000 -0700
@@ -83,6 +83,10 @@
 using Inkscape::round;
 #endif
 
+#ifdef WITH_CARBON_INTEGRATION
+#include <osx_carbon_integration/osx-integration.h>
+#endif
+
 using Inkscape::UI::Widget::UnitTracker;
 using Inkscape::UI::UXManager;
 using Inkscape::UI::ToolboxFactory;
@@ -1575,7 +1579,13 @@
     if (!prefs->getBool(pref_root + "menu/state", true)) {
         gtk_widget_hide (dtw->menubar);
     } else {
+#ifdef  WITH_CARBON_INTEGRATION
         gtk_widget_show_all (dtw->menubar);
+        OSX_set_menubar(dtw);
+        gtk_widget_hide (dtw->menubar);
+#else
+        gtk_widget_show_all (dtw->menubar);
+#endif  /* WITH_CARBON_INTEGRATION */
     }
 
     if (!prefs->getBool(pref_root + "commands/state", true)) {
@@ -1916,6 +1926,14 @@
         }
     }
 
+#ifdef WITH_CARBON_INTEGRATION
+    if (sInkscapeOsxIntegration.dtw_infocus != this) {
+        OSX_set_menubar(this);
+        sInkscapeOsxIntegration.dtw_infocus = this;
+    }
+    gtk_widget_hide (menubar);
+#endif /* WITH_CARBON_INTEGRATION */
+
     INKSCAPE.activate_desktop (desktop);
 
     return false;
diff -Naur inkscape-0.92.2/src/widgets/desktop-widget.h Inkscape-MacOS-Curated-Build/src/widgets/desktop-widget.h
--- inkscape-0.92.2/src/widgets/desktop-widget.h	2017-08-06 14:44:00.000000000 -0600
+++ Inkscape-MacOS-Curated-Build/src/widgets/desktop-widget.h	2018-12-21 20:58:03.000000000 -0700
@@ -80,6 +80,10 @@
 
     GtkWidget *menubar, *statusbar;
 
+#ifdef WITH_CARBON_INTEGRATION
+    GtkWidget *about_item, *prefs_item;
+#endif
+
     Inkscape::UI::Dialogs::SwatchesPanel *panels;
 
     GtkWidget *hscrollbar, *vscrollbar, *vscrollbar_box;
